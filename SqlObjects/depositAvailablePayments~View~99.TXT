create view dbo.depositAvailablePayments as

 select
  a.*,
  b.a1 as receivedOf,
  b.key3 as receiptType,
  b.a18 as deputy,
  b.key1 as receiptNo,
  c.a2 as paycodeDepositType,
  b.key2 as receiptPostDate,
  dbo.date1(b.key2) as receiptPostDate1
 from
  paid a,
  object b, 
  object c
 where
  c.typ = 4505
 and a.paycode=c.key1 
 and a.slink = 'o' + cast(b.id as varchar)
 and b.a17 = 'Posted'
