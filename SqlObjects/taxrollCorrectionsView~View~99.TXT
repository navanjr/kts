create view taxrollCorrectionsView as 

select id,
link1 as taxrollId,
key2 as date,
key3 as field,
case when a3 = '@d2;' then dbo.date1(a1) else a1 end as original,
case when a3 = '@d2;' then dbo.date1(a2) else a2 end as corrected,
left(attributes,5) as ini,
'' as comment
from object where typ=4005 

 union all 

select id,
taxrollId,
cast(correctionDate as varchar(max)) as date,
fieldName as field, 
left(originalData,49) as original, 
left(fieldData,49) as corrected,
ini,
comment
from taxrollCorrections