create procedure dbo.mortgageReceiptDetailCRUD(
 @mortgageDetailId int
) as
begin

 declare 
  @receiptId int,
  @taxAmount money,
  @feeAmount money,
  @taxdescription varchar(50),
  @taxsourceCode varchar(50),
  @taxfundCode varchar(50),
  @feedescription varchar(50),
  @feesourceCode varchar(50),
  @feefundCode varchar(50)

 select 
  @receiptId = link1
  from object where id=@mortgageDetailId


 -- retrieve the specifics from the mortagageDetailCheck function
 select
  @taxAmount = taxAmount,
  @feeAmount = feeAmount,
  @taxdescription = taxdescription,
  @taxsourceCode = taxsourceCode,
  @taxfundCode = taxfundCode,
  @feedescription = feedescription,
  @feesourceCode = feesourceCode,
  @feefundCode = feefundCode 
 from (select top 1 * from dbo.mortgageDetailCheck(@mortgageDetailId)) data

 exec dbo.receiptDetailCRUD @receiptId,4502,0,@taxdescription,@taxsourceCode,@taxfundCode,@taxAmount

 exec dbo.receiptDetailCRUD @receiptId,4502,0,@feedescription,@feesourceCode,@feefundCode,@feeAmount

end
