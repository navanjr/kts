create proc apiControl(
 @resource varchar(50),
 @method varchar(50) 
) as 
begin

 if @method = 'reset' and @resource in ('legal','taxroll','invoices','receipts','mortgagecodes','mortgagelink')
 begin

  if @resource = 'legal'
  begin

   -- turn off the trigger on adtax
   alter table adtax disable trigger adTaxModifiedTR

   update adtax set apiupdatedlegal = null

   -- turn off the trigger on adtax
   alter table adtax enable trigger adTaxModifiedTR

  end

  if @resource = ('taxroll')

  begin

   -- turn off the trigger on adtax
   alter table adtax disable trigger adTaxModifiedTR

   update adtax set apiupdated = null

   -- turn off the trigger on adtax
   alter table adtax enable trigger adTaxModifiedTR

  end

  if @resource = ('invoices')

  begin

   update invoices set apiupdated = null
   update apiDeleted set apiupdated = null where apiResource = 'invoices'


  end

if @resource = ('receipts')

  begin

   update object set k7 = '' where typ=4502 and key3='TAX'


  end

if @resource = ('mortgagecodes')

  begin

   update object set k7 = '' where typ=4030 


  end

if @resource = ('mortgageLink')

  begin

   update mortgageLinksImported set apiUpdated = '' 


  end



 end 

end