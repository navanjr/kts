create function dbo.posName(
 @id int
) returns varchar(50) as
begin

 declare
  @objectTyp int,
  @suspenseMethod varchar(50),
  @fullName varchar(50),
  @initials varchar(5),
  @station varchar(50),
  @posName varchar(50)

 select
  @objectTyp = typ,
  @suspenseMethod = dbo.readstring('@suspenseMethod=',dbo.whoAmI())
 from object with (NOLOCK)
 where id = @id 

 if @objectTyp in (4502,4522)
  select 
   @fullName = o.a18,
   @initials = u.ini,
   @station = o.b13
  from object o with (NOLOCK)
   join users u with (NOLOCK) on u.fullName = o.a18
  where o.id = @id

 if @suspenseMethod = 'U'
  set @posName = @initials
 else
  set @posName = @station

 return @posName

end