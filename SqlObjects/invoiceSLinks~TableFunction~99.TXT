create function dbo.invoiceSLinks(@invoiceId int) returns @rt table(
 slink varchar(15)
)
begin

 insert @rt select 't' + cast(@invoiceId as varchar)
 insert @rt select 'l' + cast(id as varchar) from receiptLink where invoiceId = @invoiceId 
 insert @rt select 'j' + cast(id as varchar) from journalLink where invoiceId = @invoiceId 
 insert @rt select 'o' + cast(receiptId as varchar) from receiptLink where invoiceId = @invoiceId 
 insert @rt select 't' + cast(id as varchar) from invoices where invoiceId = @invoiceId and typ = 'A'
 insert @rt select 'l' + cast(id as varchar) from receiptLink where invoiceId in (select id from invoices where invoiceId = @invoiceId and typ = 'A')

 return
end