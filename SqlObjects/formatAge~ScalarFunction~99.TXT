create function dbo.formatAge(
 @startDate datetime,
 @endDate datetime
) returns varchar(50) as
begin

 declare
  @retvar varchar(50),
  @minutes numeric(14,4)

 set @minutes = datediff(minute, @startDate, @endDate)

 if @minutes < 60.0
 begin
  set @retvar = convert(varchar,cast(@minutes as money),1) + ' min'
  return @retvar
 end

 if (@minutes / 60.0) < 24 
 begin
  set @retvar = convert(varchar,cast(@minutes / 60 as money),1) + ' hrs'
  return @retvar
 end

 set @retvar = convert(varchar,cast(@minutes / (60 * 24) as money),1) + ' days'
 return @retvar

end