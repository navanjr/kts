create proc dbo.glCreateTables2
as
begin
 set nocount on
 exec dbo.logit @@procid, 'Running...'

if not exists(select * from dbo.sysobjects where id = object_id(N'[dbo].[mortgageLinksImported]') and OBJECTPROPERTY(id, N'IsTable') = 1)
create table dbo.mortgageLinksImported (
 id int identity(1,1),
 parcel [nvarchar](24),
 year [numeric](5, 0),
 mortgage_code varchar(10),
 company varchar(50),
 blob varchar(max),
 modified datetime not null default getDate(),
 apiUpdated datetime default null)

 if not exists(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'temp_mortgageLink' and COLUMN_NAME = 'mortgage_Code')
   alter table temp_mortgageLink add mortgage_Code varchar(10)

if not exists(SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'aamaster' and COLUMN_NAME = 'taxYear')
  alter table aamaster add taxYear [numeric](5, 0)  


end