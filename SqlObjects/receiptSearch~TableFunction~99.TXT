create function dbo.receiptSearch(@search varchar(15)) returns @rt table(id int)
 begin
/*

 declare @needles table(id int, data nvarchar(100),found int)
 
  insert @needles select id, data, 0 from dbo.split(@needle,'|')

 update @needles set found = 1 where @hayStack like '%' + data + '%'

 if not exists(select * from @needles where found = 0)
  return 1

 return 0
*/

 insert @rt
    select id from object where typ=4502 and (a1+a5+d1+b3+b4+b5+b6+b8+b9+b11+a18+dbo.date1(b10)+dbo.date1(key2) like '%'+@search+'%' or e1 like '%'+@search+'%')
 insert @rt
    select id from object where typ=4507 and (key1+key2+d1+key3+a1+a2+a3 like '%'+@search+'%')
 insert @rt
    select cast(substring(slink,2,14) as int) from receiptDetail where left(slink,1)='o' and (description like '%'+@search+'%' or subDescription like '%'+@search+'%')
 insert @rt
    select cast(substring(slink,2,14) as int) from paid where left(slink,1)='o' and (paycode like '%'+@search+'%' or checkno like '%'+@search+'%' or drawnon like '%'+@search+'%' or location like '%'+@search+'%')


 if isnumeric(@search)=1
  begin
   insert @rt
     select cast(substring(slink,2,14) as int) from gldetail where amount=cast(@search as money)
   insert @rt
     select cast(substring(slink,2,14) as int) from receiptdetail where amount=cast(@search as money)
   insert @rt
     select cast(substring(slink,2,14) as int) from paid where amount=cast(@search as money)
   insert @rt
     select id from object 
    where typ=4502 and 
    (cast(a14 as money)=cast(@search as money) or 
     cast(a15 as money)=cast(@search as money) or 
     cast(a16 as money)=cast(@search as money) or 
     cast(b1 as money)=cast(@search as money) or 
     cast(b12 as money)=cast(@search as money))
   
  end


 return
 end