create function dbo.receiptSearch(@search varchar(15)) returns @rt table(id int)
 begin

if isdate(@search)>0
  begin
   insert @rt
    select id from object where typ=4502 and cast(b10 as varchar)+','+cast(key2 as varchar) like '%'+dbo.clariondate(@search)+'%' 
   return
  end
 insert @rt
    select id from object where typ=4502 and (key1+a1+a5+d1+b3+b4+b5+b6+b8+b9+b11+a18+dbo.date1(b10)+dbo.date1(key2) like '%'+@search+'%' or e1 like '%'+@search+'%')
 insert @rt
    select receiptid from mortgageinfo where mortgagor+mortgagee+description+section+township+range+lender like '%'+@search+'%'
 insert @rt
    select cast(substring(slink,2,14) as int) from receiptDetail where left(slink,1)='o' and (description like '%'+@search+'%' or subDescription like '%'+@search+'%')
 insert @rt
    select cast(substring(slink,2,14) as int) from paid where left(slink,1)='o' and (paycode like '%'+@search+'%' or checkno like '%'+@search+'%' or drawnon like '%'+@search+'%' or location like '%'+@search+'%')
 insert @rt
    select receiptId from receiptlink where receiptNumber like '%'+@search+'%'


 if isnumeric(@search)=1
  begin
   insert @rt
     select cast(substring(slink,2,14) as int) from gldetail where amount=cast(@search as money)
   insert @rt
     select cast(substring(slink,2,14) as int) from receiptdetail where amount=cast(@search as money)
   insert @rt
     select cast(substring(slink,2,14) as int) from paid where amount=cast(@search as money)
   insert @rt
     select id from object 
    where typ=4502 and 
    (isnumeric(a14)>0 and cast(a14 as money)=cast(@search as money) or 
     isnumeric(a15)>0 and cast(a15 as money)=cast(@search as money) or 
     isnumeric(a16)>0 and cast(a16 as money)=cast(@search as money) or 
     isnumeric(b1)>0 and cast(b1 as money)=cast(@search as money) or 
     isnumeric(b12)>0 and cast(b12 as money)=cast(@search as money))
   
  end


 return
 end