create proc dbo.apiDeletedProc(
 @styp varchar(1),
 @id int,
 @apiResource varchar (50)
) as 
begin

 declare
  @slink varchar(15) = @styp + cast(@id as varchar),
  @exists varchar(5) = 'FALSE'
 
 if exists (select * from apideleted where slink = @slink)
  set @exists = 'TRUE'
 else
  insert apiDeleted(slink,apiResource) select @slink, @apiResource
 
 if @exists = 'TRUE'
  exec dbo.logit @@procid, 'Already exists... @slink', @slink, '@apiResource', @apiResource
 else
  exec dbo.logit @@procid, 'inserted into apiDeleted... @slink', @slink, '@apiResource', @apiResource
 
end