create function dbo.depositDate(@receiptType varchar(50)) returns int
as 
begin
 declare @date int
 select @date = case when @receiptType='TAX' and b9>'0' then cast(b9 as int) else cast(b8 as int) end
  from object where typ=40
 
 if @date < 1
   set @date = (select dbo.clariondate(getdate()))

 return @date
end