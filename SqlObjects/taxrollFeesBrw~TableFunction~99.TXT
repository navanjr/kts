create function dbo.taxrollFeesBrw(@invoiceId int)
returns @rt table(
 invoiceId int,
 taxYear varchar(50),
 typ varchar(5),
 description varchar(50),
 invoiceAmount varchar(50),
 invoiceDue varchar(50))   
 as 
begin
 insert @rt 
  select ID,taxYear,TYP,'',invoiceAmount,invoiceDue from invoices where invoiceId = @invoiceId and typ='f'

  update @rt set 
   description = accountDesc 
   from gldetail
   inner join @rt on slink = 't'+cast(invoiceId as varchar)
   inner join object o on accountId = o.id
   where o.a1='source' 
  
 


return
end